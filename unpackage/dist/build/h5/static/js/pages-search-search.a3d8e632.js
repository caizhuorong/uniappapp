(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{6310:function(e,t,a){"use strict";a.r(t);var i=a("d2a0"),n=a("cde2");for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);a("e5e1");var c=a("2877"),s=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,"62c852bd",null);t["default"]=s.exports},"787e":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.status_bar[data-v-62c852bd]{height:0;width:%?750?%;background-color:#fff;position:fixed;top:%?0?%;z-index:10}.search[data-v-62c852bd]{width:100%}.search .header[data-v-62c852bd]{width:%?750?%;height:%?80?%;background-color:#fff;position:fixed;top:0;left:%?0?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;z-index:10;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .header .left[data-v-62c852bd]{width:80%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#fff}.search .header .left .searchButton[data-v-62c852bd]{width:75%;height:%?80?%;background-color:#eee;border-radius:.3rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .header .left .searchButton uni-image[data-v-62c852bd]{width:%?40?%;height:%?40?%;margin-left:%?20?%}.search .header .left .searchButton uni-input[data-v-62c852bd]{background-color:rgba(0,0,0,0);margin-left:%?20?%;letter-spacing:.1rem;font-size:.7rem;width:100%;height:%?80?%;color:grey;outline:none}.search .header .left .collect[data-v-62c852bd],.search .header .left .lookRecord[data-v-62c852bd]{width:%?50?%;height:%?50?%}.search .header .left .collect uni-image[data-v-62c852bd],.search .header .left .lookRecord uni-image[data-v-62c852bd]{width:%?50?%;height:%?50?%}.search .header .right[data-v-62c852bd]{color:grey;font-size:.8rem}.search .contentOne[data-v-62c852bd]{width:95%;margin:0 auto;height:%?500?%;margin-top:%?30?%}.search .contentOne .searchRecord[data-v-62c852bd]{width:100%}.search .contentOne .searchRecord .title[data-v-62c852bd]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .contentOne .searchRecord .title uni-image[data-v-62c852bd]{width:%?50?%;height:%?50?%}.search .contentOne .searchRecord .title uni-text[data-v-62c852bd]{letter-spacing:.1rem}.search .contentOne .searchRecord .content[data-v-62c852bd]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:-15px;margin-top:%?30?%}.search .contentOne .searchRecord .content uni-text[data-v-62c852bd]{margin-left:4%;padding:1% 2.5%;font-size:.8rem;border-radius:.7rem;background-color:#f8f8f8;color:#adadad;letter-spacing:.1rem;margin-bottom:15px}.search .contentOne .hotSearch[data-v-62c852bd]{width:100%;padding:2% 0;margin-top:%?30?%}.search .contentOne .hotSearch .title[data-v-62c852bd]{width:24%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.search .contentOne .hotSearch .title .name[data-v-62c852bd]{width:100%;color:red;font-weight:700;letter-spacing:.1rem}.search .contentOne .hotSearch .title .view_bottom[data-v-62c852bd]{width:17%;border:1px solid red;margin-left:%?60?%}.search .contentOne .hotSearch .content[data-v-62c852bd]{width:100%;height:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:%?30?%}.search .contentOne .hotSearch .content .hot_vie[data-v-62c852bd]{width:50%;text-align:left;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-bottom:%?15?%}.search .contentOne .hotSearch .content .hot_vie .typeName[data-v-62c852bd]{width:100%;margin-left:5%;font-size:.8rem;color:#adadad;letter-spacing:.2rem}.search .contentOne .hotSearch .content uni-view:first-child .number[data-v-62c852bd]{color:red}.search .contentOne .hotSearch .content uni-view:nth-child(2) .number[data-v-62c852bd]{color:orange}.search .contentOne .hotSearch .content uni-view:nth-child(3) .number[data-v-62c852bd]{color:#e19b83}.search .contentTwo[data-v-62c852bd]{width:100%;margin-top:0}.search .contentTwo .title[data-v-62c852bd]{width:100%;height:%?100?%;line-height:%?100?%;background-color:#fff;color:#e20000;text-align:left;padding-left:%?30?%;position:fixed;top:%?150?%;z-index:10}.search .contentTwo .content[data-v-62c852bd]{width:95%;margin:0 auto;margin-top:%?250?%}.search .contentTwo .content .details[data-v-62c852bd]{width:100%;height:%?210?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-bottom:%?20?%;overflow:hidden}.search .contentTwo .content .details .left[data-v-62c852bd]{width:48%;height:%?210?%;background-color:#c8c7cc}.search .contentTwo .content .details .left uni-image[data-v-62c852bd]{width:100%;height:%?210?%}.search .contentTwo .content .details .right[data-v-62c852bd]{width:48%;height:%?210?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start}.search .contentTwo .content .details .right uni-text[data-v-62c852bd]{width:100%;text-align:left;color:grey;font-size:%?24?%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.search .contentTwo .content .details .right .movieName[data-v-62c852bd]{color:#e20000}.search .contentTwo .content .details .right .play[data-v-62c852bd]{width:%?200?%;height:%?50?%;color:#fff;line-height:%?50?%;font-size:%?24?%;background-color:#e20000;border-radius:%?50?%}',""])},"866f":function(e,t,a){"use strict";var i=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("28a5"),a("96cf");var n=i(a("3b8d")),r=i(a("040e")),c={name:"",data:function(){return{hotSearchArray:[],searchInfo:null,searchRecordArray:[],currentPage:1,searchResultArray:[],isHaveSearchRecord:!1,isHaveSearchResult:!0,loading:!1,allLoaded:!1}},onLoad:function(e){this.getHotSearch(),"undefined"!=e.searchInfo?(this.searchInfo=e.searchInfo,this.doSearch(e.searchInfo)):(this.searchInfo=null,this.isHaveSearchResult=!1),uni.getStorageSync("searchRecord")&&(this.searchRecordArray=[],this.isHaveSearchRecord=!0,this.searchRecordArray=uni.getStorageSync("searchRecord"),this.searchRecordArray.reverse())},onReachBottom:function(){this.loadMore()},methods:{playMovie:function(e){r.default.playmove(e)},goCorrect:function(){uni.navigateTo({url:"../collect/collect"})},goLookRecord:function(){uni.navigateTo({url:"../playRecord/playRecord"})},back:function(){uni.navigateBack({delta:1})},getHotSearch:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.default.getInfoByAxios("get","".concat(r.default.config.host,"/api/video/hot_search_by_type"),{},!0);case 2:t=e.sent,console.log(t),this.hotSearchArray=t.data.data.split(",");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doSearch:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(t){var a,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=1,t=t.trim(),this.searchInfo=t,uni.getStorageSync("searchRecord")?(a=uni.getStorageSync("searchRecord"),a.push(t),a=r.default.arrayDelete(a),uni.setStorageSync("searchRecord",a)):(i=[],i.push(t),uni.setStorageSync("searchRecord",i)),this.searchRecordArray=[],this.isHaveSearchRecord=!0,this.searchRecordArray=uni.getStorageSync("searchRecord"),this.searchRecordArray.reverse(),e.next=10,r.default.getInfoByAxios("get","".concat(r.default.config.host,"/api/video/do_search"),{search:this.searchInfo,page:this.currentPage},!0);case 10:n=e.sent,n.data.length<=0?(uni.showToast({title:"暂时找不到影片",icon:"none",position:"center"}),this.isHaveSearchResult=!1):(this.searchResultArray=n.data.data,this.isHaveSearchResult=!0);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),closeSearchRecord:function(){this.isHaveSearchRecord=!1,uni.removeStorageSync("searchRecord")},judgeSearchInfoLength:function(e){Boolean(this.searchInfo)&&-1===this.searchInfo.indexOf(" ")&&13===e.keyCode&&(this.doSearch(this.searchInfo),e.preventDefault())},loadMore:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.allLoaded=!1,this.currentPage++,e.next=4,r.default.getInfoByAxios("get","".concat(r.default.config.host,"/api/video/do_search"),{search:this.searchInfo,page:this.currentPage},!0);case 4:if(t=e.sent,t.data.length>0)for(a=0;a<t.data.length;a++)this.searchResultArray.push(t.data.data[a]);else this.allLoaded=!0;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}};t.default=c},"9e01":function(e,t,a){var i=a("787e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("999d32be",i,!0,{sourceMap:!1,shadowMode:!1})},cde2:function(e,t,a){"use strict";a.r(t);var i=a("866f"),n=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);t["default"]=n.a},d2a0:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"search"},[a("v-uni-view",{staticClass:"status_bar"}),a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"searchButton"},[a("v-uni-image",{staticClass:"searchLogo",attrs:{src:"../../static/1.png"}}),a("v-uni-form",{attrs:{action:"#"},on:{submit:function(t){t.preventDefault(),t=e.$handleEvent(t)}}},[a("v-uni-input",{staticClass:"searchInput",attrs:{type:"search",focus:!0,placeholder:"找电影",autocapitalize:"none"},on:{keyup:function(t){t=e.$handleEvent(t),e.judgeSearchInfoLength(t)}},model:{value:e.searchInfo,callback:function(t){e.searchInfo=t},expression:"searchInfo"}})],1)],1),a("v-uni-view",{staticClass:"lookRecord",on:{click:function(t){t=e.$handleEvent(t),e.goLookRecord()}}},[a("v-uni-image",{attrs:{src:"../../static/3.png"}})],1),a("v-uni-view",{staticClass:"collect",on:{click:function(t){t=e.$handleEvent(t),e.goCorrect()}}},[a("v-uni-image",{attrs:{src:"../../static/4.png"}})],1)],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-view",{staticClass:"close",on:{click:function(t){t=e.$handleEvent(t),e.back()}}},[e._v("取消")])],1)],1),e.isHaveSearchResult?a("v-uni-view",{staticClass:"contentTwo"},[a("v-uni-view",{staticClass:"title"},[e._v("相关")]),a("v-uni-view",{staticClass:"content"},e._l(e.searchResultArray,function(t,i){return a("v-uni-view",{key:t.video_id,staticClass:"details",on:{click:function(a){a=e.$handleEvent(a),e.playMovie(t.video_id)}}},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"movieimage",attrs:{src:t.img,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-text",{staticClass:"movieName"},[e._v(e._s(t.name))]),a("v-uni-text",{staticClass:"movieType"},[e._v(e._s(t.video_type))]),a("v-uni-text",{staticClass:"actor"},[e._v("主演："+e._s(t.actors))]),a("v-uni-text",{staticClass:"movieTime"},[e._v("上映时间："+e._s(t.release_time))]),a("v-uni-button",{staticClass:"play"},[e._v("立即播放")])],1)],1)}),1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.allLoaded&&e.searchResultArray.length>=20,expression:"allLoaded&&searchResultArray.length>=20"}],staticClass:"allLoadedTips"},[e._v("已全部加载")])],1):a("v-uni-view",{staticClass:"contentOne"},[e.isHaveSearchRecord?a("v-uni-view",{staticClass:"searchRecord"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[e._v("搜索记录")]),a("v-uni-image",{attrs:{src:"../../static/6.png",alt:""},on:{click:function(t){t=e.$handleEvent(t),e.closeSearchRecord()}}})],1),a("v-uni-view",{staticClass:"content"},e._l(e.searchRecordArray,function(t,i){return a("v-uni-text",{key:i,on:{click:function(a){a=e.$handleEvent(a),e.doSearch(t)}}},[e._v(e._s(t))])}),1)],1):e._e(),a("v-uni-view",{staticClass:"hotSearch"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"name"},[e._v("热门搜索")]),a("v-uni-view",{staticClass:"view_bottom"})],1),a("v-uni-view",{staticClass:"content"},e._l(e.hotSearchArray,function(t,i){return a("v-uni-view",{key:i,staticClass:"hot_vie",on:{click:function(a){a=e.$handleEvent(a),e.doSearch(t)}}},[a("v-uni-text",{staticClass:"number"},[e._v(e._s(i+1))]),a("v-uni-text",{staticClass:"typeName"},[e._v(e._s(t))])],1)}),1)],1)],1)],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},e5e1:function(e,t,a){"use strict";var i=a("9e01"),n=a.n(i);n.a}}]);